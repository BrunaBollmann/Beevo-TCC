<!doctype html>
{% load static %}
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon">
    <title>Relatório</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.2.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  </head>
  <style>
      @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap');
      form h4{
          font-family: 'Roboto', sans-serif;
          font-weight: 400;
      }
      main {
          font-family: 'Roboto', sans-serif;
      }
  </style>
  <body>
    {% include 'partials/nav_full.html' %}
    <main>
        <br><br>
        <form action="" class="flex-row">
            <h4>Filtrar por:</h4>
            <div class="d-flex">
                <div class="col-auto pr-0 pl-0">
                  <select class="form-select w-100" name="date" id="dia">
                    <option selected value="30">30 dias</option>
                    <option value="60">60 dias</option>
                    <option value="90">90 dias</option>
                    <option value="365">365 dias</option>
                  </select>
                </div>
                <div class="col-auto pr-0 pl-2">
                  <select class="form-select w-100" name="equipamento" id="equipamento">
                    <option selected value="None">Equipamento! </option>
                    {% for i in equipamento %}
                        <option value="{{ i.id }}">{{ i.nome }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="col-auto pr-0 pl-2">
                  <select class="form-select w-100" name="periodo" id="periodo">
                    <option selected value="None">Periodo!</option>
                    {% for i in periodo %}
                        <option value="{{ i.id }}">{{ i.nome }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="col-auto pr-0 pl-2">
                  <select class="form-select w-100" name="aula" id="aula">
                    <option selected value="None">Aula!</option>
                    {% for i in aula %}
                        <option value="{{ i.id }}">{{ i.nome }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="col-auto pr-0 pl-2">
                  <select class="form-select w-100" name="sala" id="sala">
                    <option selected value="None">Sala!</option>
                    {% for i in sala %}
                        <option value="{{ i.id }}">{{ i.numero_sala }}</option>
                    {% endfor %}
                  </select>
                </div>
                    <div class="mb-3 col-auto pr-0 pl-2">
                      <input type="text" id="filtro-input" class="form-control" placeholder="Responsável">
                </div>
                <div class="col-auto pl-2">
                    <input type="submit" value="Filtrar!" class="btn btn-outline-primary">
                </div>
            </div>
         <script>
            let dia = document.getElementById('dia')
            let equipamento = document.getElementById('equipamento')
            let sala = document.getElementById('sala')
            let periodo = document.getElementById('periodo')
            let aula = document.getElementById('aula')

            dia.value = {{ dia }}
            equipamento.value = '{{ equipamento_id }}'
            sala.value = '{{ sala_id }}'
            aula.value = '{{ aula_id }}'
            periodo.value = '{{ periodo_id }}'
        </script>
        </form>

        <table class="table table-hover table-bordered" id="tabela">
          <thead class="table-secondary">
            <tr>
              <th scope="col">Nº</th>
              <th scope="col">Data</th>
              <th scope="col">Equipamento</th>
              <th scope="col">Responsável</th>
              <th scope="col">Aula</th>
              <th scope="col">Sala</th>
              <th scope="col">Período</th>
            </tr>
          </thead>
          <tbody>
          {% for i in agendamento %}
            <tr>
              <th scope="row">{{ i.id }}</th>
              <td>{{ i.data }}</td>
              <td>{{ i.equipamento }}</td>
              <td>{{ i.responsavel }}</td>
              <td>{{ i.aula }}</td>
              <td>{{ i.sala }}</td>
              <td>{{ i.periodo }}</td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
    </main>
    <script src="{% static 'js/filtro.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>
  </body>
</html>